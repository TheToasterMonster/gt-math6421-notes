\chapter{Sept.~16 --- Morphisms, Part 2}

\section{An Example of Isomorphisms}
\begin{example}\label{ex:isomorphism}
  What of the following are isomorphic
  over $\C$?
  \begin{enumerate}
    \item $\Affine^1 \setminus \{1\}$;
    \item $V(x^2 + y^2) \subseteq \Affine^2$;
    \item $V(y - x^2, z - x^3) \subseteq \Affine^3$;
    \item $V(xy) \subseteq \Affine^2$;
    \item $V(y^2 - x^2 - x^3) \subseteq \Affine^2$;
    \item $V(x^2 - y^2 - 1) \subseteq \Affine^2$.
  \end{enumerate}
  Note that $(2)$ and $(4)$ are not
  irreducible. In fact, they are isomorphic
  since we can write $(2)$ as
  \[
    V(x^2 + y^2)
    = V((x + iy)(x - iy))
    \cong V(xy).
  \]
  We have seen $(3)$ previously on
  homework, and we have an isomorphism
  $\Affine^1 \to Y = V(y - x^2, z - x^3)$
  by $t \mapsto (t, t^2, t^3)$.
  We can also see this by noting that
  $A(Y) \cong \C[x] \cong A(\Affine^1)$.
  For $(1)$, note that
  \[
    \Affine^1 \setminus \{1\}
    \cong \Affine^1 \setminus \{0\}
  \]
  and $A(\Affine^1 \setminus \{0\}) \cong \C[x^{\pm 1}]$,
  whereas $A(\Affine^1) \cong \C[x]$.
  So $A \setminus \{1\} \ncong \Affine^1$.
  For $(6)$, note that
  \[
    V(x^2 - y^2 - 1)
    = V((x - y)(x + y) - 1)
    \cong V(uv - 1)
    \cong \Affine^1 \setminus \{0\}
  \]
  by the map
  $V(uv - 1) \to \Affine^1 \setminus \{0\}$
  given by $(u, v) \mapsto u$,
  with inverse $t \mapsto (t, 1 / t)$.
  Finally, letting $C$ be the curve in
  $6$, one can show that there is
  a singularity at the origin with
  $\dim_{\C} (\OO_{C, 0} / \m_0) = 2$,
  which is different than the other examples.
  So the isomorphism classes are
  $\{2, 4\}$, $\{1, 6\}$, $\{3\}$, and $\{5\}$.
\end{example}

\section{Ringed Spaces and Morphisms}

\begin{definition}
  A \emph{ringed space} $(X, \OO_X)$
  is a topological space
  $X$ with a sheaf of rings $\OO_X$
  on $X$.
\end{definition}

\begin{example}
  If $X$ is an affine variety and
  $\OO_X$ is the sheaf of regular functions,
  then $(X, \OO_X)$ is a ringed space.
  Similarly, if $M$ is a complex manifold
  and $\OO_M$ is the sheaf of holomorphic
  functions on $M$, then
  $(M, \OO_M)$ is a ringed space.
\end{example}

\begin{remark}
  From now on, for a ringed space
  $(X, \OO_X)$, we will always assume
  $\OO_X$ is a sheaf of $k$-valued
  functions on $X$. With this assumption,
  we can make sense of pullbacks.
\end{remark}

\begin{definition}
  A \emph{morphism} of ringed spaces
  \[
    (X, \OO_X) \overset{f}{\longrightarrow} (Y, \OO_Y)
  \]
  is a continuous map $f : X \to Y$ such
  that for every $U \subseteq Y$ open and
  $\varphi \in \OO_Y(U)$,
  \begin{center}
    \begin{tikzcd}
      f^{-1}(U) \arrow[r, "f"] \arrow[rr, bend left=40, "f^* \varphi"]& U \arrow[r, "\varphi"] & k
    \end{tikzcd}
  \end{center}
  is an element of $\OO_X(f^{-1}(U))$.
  A morphism is an \emph{isomorphism}
  if it has a two-sided inverse.
\end{definition}

\begin{remark}
  A one-sided inverse need not be
  two-sided: Consider
  $f : \Affine^2 \to \Affine^1$
  given by $(x, y) \mapsto x$ and
  $g : \Affine^1 \to \Affine^2$
  given by $x \mapsto (x, 0)$. Then
  $f \circ g = \id_{\Affine^1}$, but
  $g \circ f$ is not
  the identity on $\Affine^2$.
\end{remark}

\begin{remark}
  If $(X, \OO_X) \to (Y, \OO_Y)$ is a
  morphism of ringed spaces, then
  for $V \subseteq U \subseteq Y$ open,
  we get
  \begin{center}
    \begin{tikzcd}
      \OO_Y(U) \ar[r] \ar[d, "\text{res.}"] & \OO_X(f^{-1}(U)) \ar[d, "\text{res.}"] \\
      \OO_Y(V) \ar[r] & \OO_X(f^{-1}(V))
    \end{tikzcd}
  \end{center}
  which is a commutative diagram of
  ring homomorphisms.
\end{remark}

\begin{remark}
  If $X$ and $Y$ are open sets of
  affine varieties, then a map
  $f : X \to Y$ is a morphism
  of open sets of affine varieties
  if and only if
  it is a morphism of ringed spaces.
\end{remark}

\begin{definition}[Redefinition of affine variety]
  An \emph{affine variety} $(X, \OO_X)$
  is a ringed space isomorphic to an
  affine variety in the original sense
  (as ringed spaces).
\end{definition}

\begin{remark}
  We will often write just $X$ for
  the affine variety instead of
  the pair $(X, \OO_X)$.
\end{remark}

\begin{example}
  Recall that
  $\Affine^1 \setminus \{0\} \cong V(xy - 1) \subseteq \Affine^2$
  from Example \ref{ex:isomorphism}.
  In particular,
  $\Affine^1 \setminus \{0\}$
  is an affine variety in the new sense
  (but not in the old sense).
\end{example}

\begin{prop}
  If $X$ is an affine variety (in the
  old sense) and $f \in A(X)$, then
  $D(f)$ is an affine variety.
\end{prop}

\begin{proof}
  Write $X = V(I) \subseteq \Affine^n_{x_i}$
  and consider the map
  \begin{align*}
    D(f)
    &\longrightarrow V(I, fy - 1) \subseteq \Affine^n_{x_i} \times \Affine^1_y \\
    x &\longmapsto (x, 1 / f(x)).
  \end{align*}
  This has an inverse
  $V(I, fy - 1) \to D(f)$ given by
  $(x, y) \mapsto x$. So
  $D(f) \cong V(I, fy - 1)$ as ringed spaces.
  Thus $D(f)$ is an affine variety
  (in the new sense).
\end{proof}

\section{Products of Affine Varieties}
\begin{remark}
  If $X \subseteq \Affine^m_{x_i}$
  and $Y \subseteq \Affine^n_{y_i}$
  are affine varieties, then
  \[
    X \times Y = V(I(X), I(Y))
    \subseteq \Affine^{m + n},
  \]
  viewing
  $I(X), I(Y)$ as ideals in
  $k[x_1, \dots, x_m, y_1, \dots, y_n]$.
  So $X \times Y$ is an affine variety with
  morphisms
  \begin{center}
    \begin{tikzcd}
      & X \times Y \arrow[dl, "p_1"] \arrow[dl, "{(x, y) \mapsto x}", swap] \arrow[dr, "p_2", swap] \arrow[dr, "{(x, y) \mapsto y}"] & \\
      X & & Y
    \end{tikzcd}
  \end{center}
\end{remark}

\begin{prop}
  For every affine variety $Z$ and
  diagram of morphisms
  \begin{center}
    \begin{tikzcd}
      Z \ar[drr, "f_Y", bend left=30] \ar[ddr, "f_X", bend right=35, swap] \ar[dr, "f", dashed] \\
      & X \times Y \ar[r, "p_2"] \ar[d, "p_1", swap] & Y \\
      & X
    \end{tikzcd}
  \end{center}
  there is a unique morphism $f$ which
  makes the diagram commute.
\end{prop}

\begin{proof}
  We already know that there is a unique
  set theoretic map which makes the
  diagram commute. Then since
  $f_X$ and $f_Y$ are given as regular
  functions, so is $f$. So $f$ is a
  morphism.
\end{proof}

\begin{remark}
  We will now try to understand the
  isomorphism
  $A(X \times Y) \cong A(X) \otimes_k A(Y)$.
\end{remark}

\section{Tensor Products}

\begin{definition}
  Let $A$ be a (commutative) ring and $M, N$
  be $A$-modules. The \emph{tensor product}
  $M \otimes_A N$ is the $A$-module
  generated by the symbols $m \otimes n$
  for $m \in M$ and $n \in N$, subject to
  the relations
  \begin{enumerate}
    \item (distributive law):
      $(m + m') \otimes n = m \otimes n + m' \otimes n$,
    \item (multiplication with scalars):
      $a(m \otimes n) = (am) \otimes n = m \otimes (an)$.
  \end{enumerate}
  To make this precise,
  $M \otimes_A N = A^{M \times N} / R$, where
  $R$ is the submodule generated by
  these relations.
\end{definition}

\begin{example}
  We have $\Z / 3\Z \otimes_{\Z} \Z / 2\Z = 0$. We can compute
  \[
    1 \otimes 1
    = (3 - 2) \otimes 1
    = 3 \otimes 1 - 2 \otimes 1
    = 3 \otimes 1 + 1 \otimes (-2)
    = 0 \otimes 1 + 1 \otimes 0
    = 0  \otimes 0,
  \]
  and similarly for the other elements. In
  general, if $\gcd(m, n) = 1$, then
  $\Z / m\Z \otimes_{\Z} \Z / n\Z = 0$.
\end{example}

\begin{prop}[Universal property of the tensor product]
  For any bilinear map
  $\Phi : M \times N \to P$ to
  an $A$-module $P$ (i.e.
  $n \mapsto \Phi(m, n)$ is $A$-linear
  for each $m \in M$ and the same
  for $m \mapsto \Phi(m, n)$),
  \begin{center}
    \begin{tikzcd}
      M \times N \ar[r, "\Phi"] \ar[d, "{(m, n) \mapsto m \otimes n}", swap]& P \\
      M \otimes N \ar[ur, "\Psi", swap]
    \end{tikzcd}
  \end{center}
  there exists a unique $A$-module
  homomorphism $\Psi : M \otimes N \to P$
  such that the above diagram commutes.
\end{prop}

\begin{remark}
  We have the following properties
  of the tensor product:
  \begin{enumerate}
    \item $A \otimes M \cong M$;
    \item $M \otimes N \cong N \otimes M$;
    \item $(M \otimes N) \otimes P \cong M \otimes (N \otimes P)$;
    \item $(M \oplus N) \otimes P \cong (M \otimes P) \oplus (N \otimes P)$.
  \end{enumerate}
  The way to prove these is to use
  the universal property to construct
  maps in either direction and show that
  they compose to the identity.
  \begin{enumerate}
    \item[5.] For a fixed $A$-module
      $M$ and an exact sequence
      \[
        N' \overset{f}{\longrightarrow} N \overset{g}{\longrightarrow} N'' \longrightarrow 0,
      \]
      the sequence (where
      $F$ is defined by $m \otimes n' \mapsto m \otimes f(n')$ and
      $G$ is defined by $m \otimes n \mapsto m \otimes g(n)$)
      \[
        M \otimes N' \overset{F}{\longrightarrow} M \otimes N \overset{G}{\longrightarrow} M \otimes N'' \longrightarrow 0
      \]
      is also exact. In particular,
      $\otimes M$ induces a
      right exact functor
      $\mathrm{Mod}_A \to \mathrm{Mod}_A$
      by $N \mapsto M \otimes N$.
  \end{enumerate}
\end{remark}

\begin{example}
  The functor $\otimes M$ is in general
  not left exact. Consider
  \[
    0 \longrightarrow \Z \overset{1 \mapsto 2}{\longrightarrow} \Z \overset{1 \mapsto 1}{\longrightarrow} \Z / 2\Z \longrightarrow 0.
  \]
  After tensoring with $\Z / 2\Z$, we get
  the sequence
  \[
    \Z / 2\Z \overset{1 \mapsto 0}{\longrightarrow} \Z / 2\Z \overset{1 \mapsto 1 \otimes 1}{\longrightarrow} \Z / 2\Z \otimes \Z / 2\Z \longrightarrow 0,
  \]
  where the first map is not injective.
  Note that right exactness gives
  $\Z / 2\Z \otimes \Z / 2\Z \cong \Z / 2\Z$.
\end{example}

\begin{exercise}
  Show that $\Z / m\Z \otimes_{\Z} \Z / n\Z \cong \Z / (m, n)\Z$.
\end{exercise}
